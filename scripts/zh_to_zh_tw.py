import json
import os

# Simplified -> Traditional character map (subset used in locale strings)
S2T = {
    "须": "須", "于": "於", "为": "為", "个": "個", "长": "長", "对": "對",
    "时": "時", "间": "間", "这": "這", "还": "還", "过": "過", "电": "電",
    "话": "話", "号": "號", "码": "碼", "无": "無", "论": "論", "标": "標",
    "识": "識", "组": "組", "织": "織", "级": "級", "别": "別", "范": "範",
    "围": "圍", "见": "見", "贝": "貝", "负": "負", "载": "載", "输": "輸",
    "进": "進", "选": "選", "择": "擇", "预": "預", "设": "設", "页": "頁",
    "联": "聯", "统": "統", "计": "計", "数": "數", "据": "據", "库": "庫",
    "图": "圖", "书": "書", "读": "讀", "写": "寫", "仅": "僅", "当": "當",
    "应": "應", "该": "該", "会": "會", "现": "現", "实": "實", "际": "際",
    "发": "發", "报": "報", "错": "錯", "误": "誤", "确": "確", "认": "認",
    "验": "驗", "证": "證", "邮": "郵", "网": "網", "络": "絡", "连": "連",
    "续": "續", "类": "類", "样": "樣", "规": "規", "则": "則", "条": "條",
    "满": "滿", "达": "達", "缀": "綴", "缓": "緩", "冲": "衝", "区": "區",
    "转": "轉", "换": "換", "语": "語", "货": "貨", "币": "幣", "历": "曆",
    "穷": "窮", "学": "學", "与": "與", "来": "來", "内": "內", "宽": "寬",
    "严": "嚴", "紧": "緊", "带": "帶", "关": "關", "闭": "閉", "启": "啟",
    "动": "動", "势": "勢", "执": "執", "场": "場", "显": "顯", "离": "離",
    "扩": "擴", "张": "張", "压": "壓", "缩": "縮", "门": "門", "说": "說",
    "门": "門", "块": "塊", "线": "線", "针": "針", "际": "際", "乌": "烏", "节": "節",
}


def s2t(s: str) -> str:
    return "".join(S2T.get(c, c) for c in s)


def main():
    base = os.path.dirname(os.path.abspath(__file__))
    zh_path = os.path.join(base, "../translator/locales/zh.json")
    out_path = os.path.join(base, "../translator/locales/zh-TW.json")
    with open(zh_path, "r", encoding="utf-8") as f:
        data = json.load(f)
    for item in data:
        item["translation"] = s2t(item["translation"])
    with open(out_path, "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    print("Written:", out_path)


if __name__ == "__main__":
    main()
